<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Display</title>
    <style>
        /* Add your CSS styles here */
    </style>
</head>
<body>
    <h1>Product Display</h1>
    
    <div id="products"></div>

    <div id="productDetails"></div>
    <script>
        async function fetchProducts(category) {
            try {
                const response = await fetch(`/categories/${category}/products`);
                const products = await response.json();
                displayProducts(products);
            } catch (error) {
                console.error('Error fetching products:', error);
            }
        }
    
        async function fetchProductDetails(category, productId) {
            try {
                const response = await fetch(`/categories/${category}/products/${productId}`);
                const productDetails = await response.json();
                displayProductDetails(productDetails);
            } catch (error) {
                console.error('Error fetching product details:', error);
            }
        }
    
        function displayProducts(products) {
            const productsContainer = document.getElementById('products');
            productsContainer.innerHTML = '';
            products.forEach(product => {
                const productElement = document.createElement('div');
                productElement.textContent = `${product.name} - ${product.price}`;
                productElement.addEventListener('click', () => {
                    fetchProductDetails(product.category, product.id);
                });
                productsContainer.appendChild(productElement);
            });
        }
    
        function displayProductDetails(productDetails) {
            const productDetailsContainer = document.getElementById('productDetails');
            productDetailsContainer.innerHTML = '';
            const detailsElement = document.createElement('div');
            detailsElement.textContent = `Name: ${productDetails.name}, Price: ${productDetails.price}, Description: ${productDetails.description}`;
            productDetailsContainer.appendChild(detailsElement);
        }
    
        // Fetch initial products when the page loads
        fetchProducts('your-category');
    </script>
    
</body>
</html>
